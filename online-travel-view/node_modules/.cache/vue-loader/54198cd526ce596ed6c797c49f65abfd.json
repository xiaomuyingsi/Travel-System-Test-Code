{"remainingRequest":"F:\\Java\\Code\\online-travel-view\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\Java\\Code\\online-travel-view\\src\\views\\user\\Main.vue?vue&type=style&index=0&id=56500673&scoped=true&lang=scss&","dependencies":[{"path":"F:\\Java\\Code\\online-travel-view\\src\\views\\user\\Main.vue","mtime":1744600062200},{"path":"F:\\Java\\Code\\online-travel-view\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\Java\\Code\\online-travel-view\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"F:\\Java\\Code\\online-travel-view\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"F:\\Java\\Code\\online-travel-view\\node_modules\\sass-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\Java\\Code\\online-travel-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\Java\\Code\\online-travel-view\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoudG9wIHsKICBoZWlnaHQ6IDY1cHg7CiAgbGluZS1oZWlnaHQ6IDY1cHg7CiAgcGFkZGluZzogMjBweCAxMDBweDsKICBib3gtc2l6aW5nOiBib3JkZXItYm94OwogIGRpc3BsYXk6IGZsZXg7CiAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuOwogIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCByZ2IoMjMxLCAyMzEsIDIzMSk7CgogIC50b3AtcmlnaHQgewogICAgZGlzcGxheTogZmxleDsKICAgIGp1c3RpZnktY29udGVudDogY2VudGVyOwogICAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICAgIGdhcDogMTBweDsKCiAgICB1bCB7CiAgICAgIGxpc3Qtc3R5bGU6IG5vbmU7CgogICAgICBsaSB7CiAgICAgICAgY3Vyc29yOiBwb2ludGVyOwogICAgICAgIGZsb2F0OiBsZWZ0OwogICAgICAgIG1hcmdpbi1yaWdodDogNnB4OwogICAgICAgIHBhZGRpbmc6IDVweCAxMHB4OwogICAgICAgIG1pbi13aWR0aDogNTBweDsKICAgICAgICBtYXgtd2lkdGg6IDEwMHB4OwogICAgICAgIGNvbG9yOiByZ2IoMTExLCA1MywgNzEpOwogICAgICAgIGZvbnQtc2l6ZTogMTRweDsKICAgICAgICBib3gtc2l6aW5nOiBib3JkZXItYm94OwogICAgICAgIGZvbnQtd2VpZ2h0OiA1MDA7CiAgICAgIH0KCiAgICAgIGxpOmhvdmVyIHsKICAgICAgICBjb2xvcjogcmdiKDEyOCwgMTQ0LCAxMDApOwogICAgICB9CiAgICB9CiAgfQoKICAudG9wLWxlZnQgewogICAgZGlzcGxheTogZmxleDsKICAgIGp1c3RpZnktY29udGVudDogY2VudGVyOwogICAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICB9Cn0KCi5yb3V0ZXItdmlldyB7CiAgcGFkZGluZzogNjBweCAzMHB4OwogIGJveC1zaXppbmc6IGJvcmRlci1ib3g7CiAgYmFja2dyb3VuZC1jb2xvcjogcmdiKDI1MywgMjUzLCAyNTMpOwogIG1pbi1oZWlnaHQ6IGNhbGMoMTAwdmggLSA2NnB4KTsKCiAgLml0ZW0gewogICAgd2lkdGg6IDYwJTsKICAgIG1hcmdpbjogMCBhdXRvOwogIH0KfQo="},{"version":3,"sources":["Main.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"Main.vue","sourceRoot":"src/views/user","sourcesContent":["<template>\n  <div>\n    <div class=\"top\">\n      <div class=\"top-left\">\n        <Logo sysName=\"趣旅\" />\n      </div>\n      <div class=\"top-right\">\n        <ul>\n          <li @click=\"route('/scenic')\">景点</li>\n          <li @click=\"route('/strategy')\">攻略区</li>\n          <li @click=\"route('/hotel')\">酒店</li>\n          <li>\n            <el-dropdown type=\"success\" size=\"mini\" :hide-on-click=\"false\">\n              <span class=\"el-dropdown-link\">\n                订单详情<i class=\"el-icon-arrow-down el-icon--right\"></i>\n              </span>\n              <el-dropdown-menu slot=\"dropdown\">\n                <el-dropdown-item @click.native=\"route('/hotelOrder')\">酒店订单</el-dropdown-item>\n                <el-dropdown-item @click.native=\"route('/ticketOrder')\">门票预约</el-dropdown-item>\n              </el-dropdown-menu>\n            </el-dropdown>\n          </li>\n          <li @click=\"route('/notice')\">公告通知</li>\n          <li @click=\"route('/order')\">我的订单</li>\n          <li @click=\"toggleAiHelper\">AI助手</li>\n        </ul>\n\n        <el-dropdown type=\"success\" size=\"mini\" :hide-on-click=\"false\">\n          <span class=\"el-dropdown-link\" style=\"cursor: pointer;\">\n            内容中心<i class=\"el-icon-arrow-down el-icon--right\"></i>\n          </span>\n          <el-dropdown-menu slot=\"dropdown\">\n            <el-dropdown-item @click.native=\"route('/publishStrategy')\">发布攻略</el-dropdown-item>\n            <el-dropdown-item @click.native=\"route('/contentCenter')\">内容中心</el-dropdown-item>\n            <el-dropdown-item @click.native=\"route('/save')\">我的收藏</el-dropdown-item>\n          </el-dropdown-menu>\n        </el-dropdown>\n\n        <el-button type=\"primary\" size=\"mini\" @click=\"route('/service')\" round>服务中心</el-button>\n\n        <el-dropdown type=\"success\" size=\"mini\" class=\"user-dropdown\">\n          <span class=\"el-dropdown-link\" style=\"display: flex; align-items: center; cursor: pointer;\">\n            <el-avatar :size=\"30\" :src=\"userInfo.userAvatar\" style=\"margin-top: 0;\"></el-avatar>\n            <span class=\"user-name\" style=\"margin-left: 5px; font-size: 14px;\">{{ userInfo.userName }}</span>\n            <i class=\"el-icon-arrow-down el-icon--right\" style=\"margin-left: 5px;\"></i>\n          </span>\n          <el-dropdown-menu slot=\"dropdown\">\n            <el-dropdown-item @click.native=\"route('/self')\">个人资料</el-dropdown-item>\n            <el-dropdown-item @click.native=\"route('/resetPwd')\">修改密码</el-dropdown-item>\n            <el-dropdown-item @click.native=\"loginOut\">退出登录</el-dropdown-item>\n          </el-dropdown-menu>\n        </el-dropdown>\n      </div>\n    </div>\n\n    <div class=\"router-view\">\n      <div class=\"item\">\n        <!-- 互斥显示：AI助手 和 页面内容二选一 -->\n        <router-view v-if=\"!showAiHelper\"></router-view>\n        <ai-helper v-else @close=\"closeAiHelper\" />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Logo from \"@/components/Logo\";\nimport AiHelper from '@/views/user/AiHelper.vue';\n\nexport default {\n  components: {\n    Logo,\n    AiHelper\n  },\n  name: \"User\",\n  data() {\n    return {\n      key: '',\n      defaultPath: '/scenic',\n      userInfo: {},\n      showAiHelper: false // 默认不显示 AI 助手\n    };\n  },\n  created() {\n    this.auth();\n    this.route(this.defaultPath);\n  },\n  methods: {\n    route(path) {\n      this.showAiHelper = false; // 切换页面时关闭 AI 助手\n      if (this.$route.path !== path) {\n        this.$router.push(path);\n      }\n    },\n    toggleAiHelper() {\n      this.showAiHelper = !this.showAiHelper;\n      if (this.showAiHelper) {\n        this.$router.push('/user/aiHelper');  // 当点击 AI 助手时改变 URL\n      }\n    },\n    closeAiHelper() {\n      this.showAiHelper = false;\n    },\n    async loginOut() {\n      const confirmed = await this.$swalConfirm({\n        title: '退出登录',\n        text: `退出后需要重新登录哦？`,\n        icon: 'warning',\n      });\n      if (confirmed) {\n        sessionStorage.setItem('token', null);\n        this.$router.push('/');\n      }\n    },\n    async auth() {\n      const { data } = await this.$axios.get('/user/auth');\n      if (data.code !== 200) {\n        this.$router.push('/');\n      } else {\n        sessionStorage.setItem('userInfo',JSON.stringify(data.data));\n        this.userInfo = data.data;\n      }\n    }\n  }\n};\n</script>\n\n<style scoped lang=\"scss\">\n.top {\n  height: 65px;\n  line-height: 65px;\n  padding: 20px 100px;\n  box-sizing: border-box;\n  display: flex;\n  justify-content: space-between;\n  border-bottom: 1px solid rgb(231, 231, 231);\n\n  .top-right {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    gap: 10px;\n\n    ul {\n      list-style: none;\n\n      li {\n        cursor: pointer;\n        float: left;\n        margin-right: 6px;\n        padding: 5px 10px;\n        min-width: 50px;\n        max-width: 100px;\n        color: rgb(111, 53, 71);\n        font-size: 14px;\n        box-sizing: border-box;\n        font-weight: 500;\n      }\n\n      li:hover {\n        color: rgb(128, 144, 100);\n      }\n    }\n  }\n\n  .top-left {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n}\n\n.router-view {\n  padding: 60px 30px;\n  box-sizing: border-box;\n  background-color: rgb(253, 253, 253);\n  min-height: calc(100vh - 66px);\n\n  .item {\n    width: 60%;\n    margin: 0 auto;\n  }\n}\n</style>\n"]}]}