{"remainingRequest":"F:\\Java\\Code\\online-travel-view\\node_modules\\babel-loader\\lib\\index.js!F:\\Java\\Code\\online-travel-view\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!F:\\Java\\Code\\online-travel-view\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\Java\\Code\\online-travel-view\\src\\views\\user\\Main.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\Java\\Code\\online-travel-view\\src\\views\\user\\Main.vue","mtime":1744600062200},{"path":"F:\\Java\\Code\\online-travel-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\Java\\Code\\online-travel-view\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"F:\\Java\\Code\\online-travel-view\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\Java\\Code\\online-travel-view\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IExvZ28gZnJvbSAiQC9jb21wb25lbnRzL0xvZ28iOwppbXBvcnQgQWlIZWxwZXIgZnJvbSAnQC92aWV3cy91c2VyL0FpSGVscGVyLnZ1ZSc7CmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBMb2dvLAogICAgQWlIZWxwZXIKICB9LAogIG5hbWU6ICJVc2VyIiwKCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGtleTogJycsCiAgICAgIGRlZmF1bHRQYXRoOiAnL3NjZW5pYycsCiAgICAgIHVzZXJJbmZvOiB7fSwKICAgICAgc2hvd0FpSGVscGVyOiBmYWxzZSAvLyDpu5jorqTkuI3mmL7npLogQUkg5Yqp5omLCgogICAgfTsKICB9LAoKICBjcmVhdGVkKCkgewogICAgdGhpcy5hdXRoKCk7CiAgICB0aGlzLnJvdXRlKHRoaXMuZGVmYXVsdFBhdGgpOwogIH0sCgogIG1ldGhvZHM6IHsKICAgIHJvdXRlKHBhdGgpIHsKICAgICAgdGhpcy5zaG93QWlIZWxwZXIgPSBmYWxzZTsgLy8g5YiH5o2i6aG16Z2i5pe25YWz6ZetIEFJIOWKqeaJiwoKICAgICAgaWYgKHRoaXMuJHJvdXRlLnBhdGggIT09IHBhdGgpIHsKICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaChwYXRoKTsKICAgICAgfQogICAgfSwKCiAgICB0b2dnbGVBaUhlbHBlcigpIHsKICAgICAgdGhpcy5zaG93QWlIZWxwZXIgPSAhdGhpcy5zaG93QWlIZWxwZXI7CgogICAgICBpZiAodGhpcy5zaG93QWlIZWxwZXIpIHsKICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnL3VzZXIvYWlIZWxwZXInKTsgLy8g5b2T54K55Ye7IEFJIOWKqeaJi+aXtuaUueWPmCBVUkwKICAgICAgfQogICAgfSwKCiAgICBjbG9zZUFpSGVscGVyKCkgewogICAgICB0aGlzLnNob3dBaUhlbHBlciA9IGZhbHNlOwogICAgfSwKCiAgICBhc3luYyBsb2dpbk91dCgpIHsKICAgICAgY29uc3QgY29uZmlybWVkID0gYXdhaXQgdGhpcy4kc3dhbENvbmZpcm0oewogICAgICAgIHRpdGxlOiAn6YCA5Ye655m75b2VJywKICAgICAgICB0ZXh0OiBg6YCA5Ye65ZCO6ZyA6KaB6YeN5paw55m75b2V5ZOm77yfYCwKICAgICAgICBpY29uOiAnd2FybmluZycKICAgICAgfSk7CgogICAgICBpZiAoY29uZmlybWVkKSB7CiAgICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgndG9rZW4nLCBudWxsKTsKICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnLycpOwogICAgICB9CiAgICB9LAoKICAgIGFzeW5jIGF1dGgoKSB7CiAgICAgIGNvbnN0IHsKICAgICAgICBkYXRhCiAgICAgIH0gPSBhd2FpdCB0aGlzLiRheGlvcy5nZXQoJy91c2VyL2F1dGgnKTsKCiAgICAgIGlmIChkYXRhLmNvZGUgIT09IDIwMCkgewogICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCcvJyk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgndXNlckluZm8nLCBKU09OLnN0cmluZ2lmeShkYXRhLmRhdGEpKTsKICAgICAgICB0aGlzLnVzZXJJbmZvID0gZGF0YS5kYXRhOwogICAgICB9CiAgICB9CgogIH0KfTs="},{"version":3,"sources":["Main.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkEA,OAAA,IAAA,MAAA,mBAAA;AACA,OAAA,QAAA,MAAA,2BAAA;AAEA,eAAA;AACA,EAAA,UAAA,EAAA;AACA,IAAA,IADA;AAEA,IAAA;AAFA,GADA;AAKA,EAAA,IAAA,EAAA,MALA;;AAMA,EAAA,IAAA,GAAA;AACA,WAAA;AACA,MAAA,GAAA,EAAA,EADA;AAEA,MAAA,WAAA,EAAA,SAFA;AAGA,MAAA,QAAA,EAAA,EAHA;AAIA,MAAA,YAAA,EAAA,KAJA,CAIA;;AAJA,KAAA;AAMA,GAbA;;AAcA,EAAA,OAAA,GAAA;AACA,SAAA,IAAA;AACA,SAAA,KAAA,CAAA,KAAA,WAAA;AACA,GAjBA;;AAkBA,EAAA,OAAA,EAAA;AACA,IAAA,KAAA,CAAA,IAAA,EAAA;AACA,WAAA,YAAA,GAAA,KAAA,CADA,CACA;;AACA,UAAA,KAAA,MAAA,CAAA,IAAA,KAAA,IAAA,EAAA;AACA,aAAA,OAAA,CAAA,IAAA,CAAA,IAAA;AACA;AACA,KANA;;AAOA,IAAA,cAAA,GAAA;AACA,WAAA,YAAA,GAAA,CAAA,KAAA,YAAA;;AACA,UAAA,KAAA,YAAA,EAAA;AACA,aAAA,OAAA,CAAA,IAAA,CAAA,gBAAA,EADA,CACA;AACA;AACA,KAZA;;AAaA,IAAA,aAAA,GAAA;AACA,WAAA,YAAA,GAAA,KAAA;AACA,KAfA;;AAgBA,UAAA,QAAA,GAAA;AACA,YAAA,SAAA,GAAA,MAAA,KAAA,YAAA,CAAA;AACA,QAAA,KAAA,EAAA,MADA;AAEA,QAAA,IAAA,EAAA,aAFA;AAGA,QAAA,IAAA,EAAA;AAHA,OAAA,CAAA;;AAKA,UAAA,SAAA,EAAA;AACA,QAAA,cAAA,CAAA,OAAA,CAAA,OAAA,EAAA,IAAA;AACA,aAAA,OAAA,CAAA,IAAA,CAAA,GAAA;AACA;AACA,KA1BA;;AA2BA,UAAA,IAAA,GAAA;AACA,YAAA;AAAA,QAAA;AAAA,UAAA,MAAA,KAAA,MAAA,CAAA,GAAA,CAAA,YAAA,CAAA;;AACA,UAAA,IAAA,CAAA,IAAA,KAAA,GAAA,EAAA;AACA,aAAA,OAAA,CAAA,IAAA,CAAA,GAAA;AACA,OAFA,MAEA;AACA,QAAA,cAAA,CAAA,OAAA,CAAA,UAAA,EAAA,IAAA,CAAA,SAAA,CAAA,IAAA,CAAA,IAAA,CAAA;AACA,aAAA,QAAA,GAAA,IAAA,CAAA,IAAA;AACA;AACA;;AAnCA;AAlBA,CAAA","sourcesContent":["<template>\n  <div>\n    <div class=\"top\">\n      <div class=\"top-left\">\n        <Logo sysName=\"趣旅\" />\n      </div>\n      <div class=\"top-right\">\n        <ul>\n          <li @click=\"route('/scenic')\">景点</li>\n          <li @click=\"route('/strategy')\">攻略区</li>\n          <li @click=\"route('/hotel')\">酒店</li>\n          <li>\n            <el-dropdown type=\"success\" size=\"mini\" :hide-on-click=\"false\">\n              <span class=\"el-dropdown-link\">\n                订单详情<i class=\"el-icon-arrow-down el-icon--right\"></i>\n              </span>\n              <el-dropdown-menu slot=\"dropdown\">\n                <el-dropdown-item @click.native=\"route('/hotelOrder')\">酒店订单</el-dropdown-item>\n                <el-dropdown-item @click.native=\"route('/ticketOrder')\">门票预约</el-dropdown-item>\n              </el-dropdown-menu>\n            </el-dropdown>\n          </li>\n          <li @click=\"route('/notice')\">公告通知</li>\n          <li @click=\"route('/order')\">我的订单</li>\n          <li @click=\"toggleAiHelper\">AI助手</li>\n        </ul>\n\n        <el-dropdown type=\"success\" size=\"mini\" :hide-on-click=\"false\">\n          <span class=\"el-dropdown-link\" style=\"cursor: pointer;\">\n            内容中心<i class=\"el-icon-arrow-down el-icon--right\"></i>\n          </span>\n          <el-dropdown-menu slot=\"dropdown\">\n            <el-dropdown-item @click.native=\"route('/publishStrategy')\">发布攻略</el-dropdown-item>\n            <el-dropdown-item @click.native=\"route('/contentCenter')\">内容中心</el-dropdown-item>\n            <el-dropdown-item @click.native=\"route('/save')\">我的收藏</el-dropdown-item>\n          </el-dropdown-menu>\n        </el-dropdown>\n\n        <el-button type=\"primary\" size=\"mini\" @click=\"route('/service')\" round>服务中心</el-button>\n\n        <el-dropdown type=\"success\" size=\"mini\" class=\"user-dropdown\">\n          <span class=\"el-dropdown-link\" style=\"display: flex; align-items: center; cursor: pointer;\">\n            <el-avatar :size=\"30\" :src=\"userInfo.userAvatar\" style=\"margin-top: 0;\"></el-avatar>\n            <span class=\"user-name\" style=\"margin-left: 5px; font-size: 14px;\">{{ userInfo.userName }}</span>\n            <i class=\"el-icon-arrow-down el-icon--right\" style=\"margin-left: 5px;\"></i>\n          </span>\n          <el-dropdown-menu slot=\"dropdown\">\n            <el-dropdown-item @click.native=\"route('/self')\">个人资料</el-dropdown-item>\n            <el-dropdown-item @click.native=\"route('/resetPwd')\">修改密码</el-dropdown-item>\n            <el-dropdown-item @click.native=\"loginOut\">退出登录</el-dropdown-item>\n          </el-dropdown-menu>\n        </el-dropdown>\n      </div>\n    </div>\n\n    <div class=\"router-view\">\n      <div class=\"item\">\n        <!-- 互斥显示：AI助手 和 页面内容二选一 -->\n        <router-view v-if=\"!showAiHelper\"></router-view>\n        <ai-helper v-else @close=\"closeAiHelper\" />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Logo from \"@/components/Logo\";\nimport AiHelper from '@/views/user/AiHelper.vue';\n\nexport default {\n  components: {\n    Logo,\n    AiHelper\n  },\n  name: \"User\",\n  data() {\n    return {\n      key: '',\n      defaultPath: '/scenic',\n      userInfo: {},\n      showAiHelper: false // 默认不显示 AI 助手\n    };\n  },\n  created() {\n    this.auth();\n    this.route(this.defaultPath);\n  },\n  methods: {\n    route(path) {\n      this.showAiHelper = false; // 切换页面时关闭 AI 助手\n      if (this.$route.path !== path) {\n        this.$router.push(path);\n      }\n    },\n    toggleAiHelper() {\n      this.showAiHelper = !this.showAiHelper;\n      if (this.showAiHelper) {\n        this.$router.push('/user/aiHelper');  // 当点击 AI 助手时改变 URL\n      }\n    },\n    closeAiHelper() {\n      this.showAiHelper = false;\n    },\n    async loginOut() {\n      const confirmed = await this.$swalConfirm({\n        title: '退出登录',\n        text: `退出后需要重新登录哦？`,\n        icon: 'warning',\n      });\n      if (confirmed) {\n        sessionStorage.setItem('token', null);\n        this.$router.push('/');\n      }\n    },\n    async auth() {\n      const { data } = await this.$axios.get('/user/auth');\n      if (data.code !== 200) {\n        this.$router.push('/');\n      } else {\n        sessionStorage.setItem('userInfo',JSON.stringify(data.data));\n        this.userInfo = data.data;\n      }\n    }\n  }\n};\n</script>\n\n<style scoped lang=\"scss\">\n.top {\n  height: 65px;\n  line-height: 65px;\n  padding: 20px 100px;\n  box-sizing: border-box;\n  display: flex;\n  justify-content: space-between;\n  border-bottom: 1px solid rgb(231, 231, 231);\n\n  .top-right {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    gap: 10px;\n\n    ul {\n      list-style: none;\n\n      li {\n        cursor: pointer;\n        float: left;\n        margin-right: 6px;\n        padding: 5px 10px;\n        min-width: 50px;\n        max-width: 100px;\n        color: rgb(111, 53, 71);\n        font-size: 14px;\n        box-sizing: border-box;\n        font-weight: 500;\n      }\n\n      li:hover {\n        color: rgb(128, 144, 100);\n      }\n    }\n  }\n\n  .top-left {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n}\n\n.router-view {\n  padding: 60px 30px;\n  box-sizing: border-box;\n  background-color: rgb(253, 253, 253);\n  min-height: calc(100vh - 66px);\n\n  .item {\n    width: 60%;\n    margin: 0 auto;\n  }\n}\n</style>\n"],"sourceRoot":"src/views/user"}]}